<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Head Nurse Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Tajawal", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #F7F9FD;
      background-attachment: fixed;
      min-height: 100vh;
      color: #1A3A7A;
    }

    :root {
      --primary: #0A1D41;
      --primary-dark: #0A1D41;
      --secondary: #A8AD63;
      --complement: #8A8F40;
      --interactive: #1A3A7A;
      --accent: #A8AD63;
      --bg-card: #ffffff;
      --bg-light: #FFFFFF;
      --border-soft: rgba(195, 199, 115, 0.5);
      --danger: #e53935;
      --warning: #ffb300;
      --success: #2e7d32;
      --muted: #90a4ae;
    }

    .app-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: var(--primary);
      color: #FFFFFF;
      letter-spacing: 0.5px;
      padding: 18px 28px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .logo-circle {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: 2px solid rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 16px;
      background: rgba(10, 86, 179, 0.15);
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2);
    }

    .header-title {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .header-title-main {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .header-title-sub {
      font-size: 13px;
      opacity: 0.92;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .mobile-header {
      display: none;
      background: #0A1D41;
      color: #ffffff;
      padding: 14px 20px;
      font-size: 18px;
      font-weight: 700;
      align-items: center;
      justify-content: space-between;
    }

    .mobile-menu-btn {
      font-size: 26px;
      cursor: pointer;
    }

    .mobile-menu {
      display: none;
      position: fixed;
      inset-inline-start: 0;
      top: 0;
      height: 100vh;
      width: 260px;
      background: #0A1D41;
      padding: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
      z-index: 9999;
      overflow-y: auto;
    }

    .mobile-menu a {
      display: block;
      color: #ffffff;
      padding: 14px 0;
      font-size: 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      text-decoration: none;
    }

    .mobile-menu-close {
      color: #ffffff;
      font-size: 26px;
      text-align: end;
      cursor: pointer;
      margin-bottom: 20px;
    }

    @media (max-width: 768px) {
      header,
      .top-buttons {
        display: none !important;
      }

      .mobile-header {
        display: flex !important;
      }
    }

    .btn-nav {
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      padding: 9px 18px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.12);
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-decoration: none;
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .btn-nav:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .btn-nav:active {
      transform: translateY(0);
    }

    main {
      flex: 1;
      padding: 24px;
      max-width: 1600px;
      margin: 0 auto;
      width: 100%;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .card {
      background: linear-gradient(180deg, #ffffff, #f7f9fc);
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 6px 20px rgba(10, 29, 65, 0.08);
      border: 1px solid rgba(10, 29, 65, 0.08);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      width: 100%;
    }

    .card:hover {
      box-shadow: 0 12px 32px rgba(15, 37, 85, 0.12);
      transform: translateY(-2px);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 2px solid rgba(10, 86, 179, 0.08);
    }

    .card-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--secondary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-icon {
      font-size: 24px;
    }

    .card-subtitle {
      font-size: 12px;
      color: #243A5A;
      margin-top: 4px;
    }

    .full-width-card {
      grid-column: 1 / -1;
    }

    /* ğŸ”µ Hospital overview */
    .hospital-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
    }

    .hospital-card {
      border-radius: 18px;
      padding: 16px 16px 14px;
      background: linear-gradient(135deg, #f4f8ff, #ffffff);
      border: 1px solid rgba(10, 86, 179, 0.1);
      box-shadow: 0 8px 20px rgba(15, 37, 85, 0.08);
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .hospital-card::after {
      content: '';
      position: absolute;
      inset-inline-end: -40px;
      top: -40px;
      width: 120px;
      height: 120px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(24,164,224,0.18), transparent 60%);
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .hospital-card:hover::after {
      opacity: 1;
    }

    .hospital-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 14px 30px rgba(15, 37, 85, 0.16);
      border-color: var(--primary);
    }

    .hospital-card.selected {
      border: 2px solid var(--primary);
      box-shadow: 0 0 0 3px rgba(10,86,179,0.22);
    }

    .hospital-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .hospital-name {
      font-size: 17px;
      font-weight: 700;
      color: #0A1D41;
    }

    .hospital-meta {
      font-size: 12px;
      color: #243A5A;
    }

    .tag {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 600;
    }

    .tag-open {
      background: rgba(46,125,50,0.12);
      color: var(--success);
    }

    .tag-limited {
      background: rgba(255,179,0,0.14);
      color: var(--warning);
    }

    .tag-closed {
      background: rgba(229,57,53,0.14);
      color: var(--danger);
    }

    .hospital-stats-row {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 12px;
    }

    .hospital-stat-label {
      color: var(--muted);
      font-size: 11px;
    }

    .hospital-stat-value {
      font-weight: 600;
    }

    .capacity-bar {
      width: 100%;
      height: 7px;
      border-radius: 999px;
      background: #e2e7f5;
      margin-top: 10px;
      overflow: hidden;
    }

    .capacity-fill {
      height: 100%;
      border-radius: 999px;
      transition: width 0.3s ease;
    }

    .capacity-fill.good {
      background: linear-gradient(90deg, #2e7d32, #66bb6a);
    }

    .capacity-fill.warning {
      background: linear-gradient(90deg, #ffb300, #ffca28);
    }

    .capacity-fill.critical {
      background: linear-gradient(90deg, #e53935, #ef5350);
    }

    .hospital-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      font-size: 11px;
      color: var(--muted);
    }

    .hospital-load-text {
      font-weight: 600;
      color: var(--primary-dark);
    }

    /* Nurse to Patient Ratio */
    .ratio-display {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .ratio-card {
      background: linear-gradient(135deg, #f0f7ff, #e8f3ff);
      border-radius: 16px;
      padding: 20px;
      border: 2px solid rgba(10, 86, 179, 0.1);
    }

    .ratio-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .ratio-label {
      font-size: 14px;
      color: var(--muted);
      font-weight: 500;
    }

    .ratio-value {
      font-size: 32px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    .ratio-status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
    }

    .ratio-status.good {
      background: rgba(46, 125, 50, 0.15);
      color: var(--success);
    }

    .ratio-status.warning {
      background: rgba(255, 179, 0, 0.15);
      color: var(--warning);
    }

    .ratio-status.critical {
      background: rgba(229, 57, 53, 0.15);
      color: var(--danger);
    }

    .ratio-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 16px;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .detail-label {
      font-size: 11px;
      color: var(--muted);
      font-weight: 500;
    }

    .detail-value {
      font-size: 18px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    /* Equipment Status */
    .equipment-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .equipment-item {
      background: linear-gradient(135deg, #ffffff, #f8faff);
      border-radius: 12px;
      padding: 16px;
      border: 1px solid rgba(10, 86, 179, 0.1);
      transition: all 0.2s ease;
    }

    .equipment-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(15, 37, 85, 0.1);
      border-color: var(--primary);
    }

    .equipment-name {
      font-size: 13px;
      font-weight: 600;
      color: var(--primary-dark);
      margin-bottom: 8px;
    }

    .equipment-status {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .equipment-count {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    .equipment-available {
      font-size: 11px;
      color: var(--success);
      font-weight: 600;
    }

    .equipment-unavailable {
      font-size: 11px;
      color: var(--danger);
      font-weight: 600;
    }

    /* AI Transfer Recommendations */
    .ai-recommendations {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .recommendation-card {
      background: linear-gradient(135deg, #fff9f0, #fff5e6);
      border-radius: 16px;
      padding: 20px;
      border: 2px solid rgba(255, 179, 0, 0.2);
      position: relative;
      overflow: hidden;
    }

    .recommendation-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 4px;
      height: 100%;
      background: var(--warning);
    }

    .recommendation-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .patient-info {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .patient-name {
      font-size: 16px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    .patient-id {
      font-size: 12px;
      color: var(--muted);
    }

    .priority-badge {
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .priority-high {
      background: rgba(229, 57, 53, 0.15);
      color: var(--danger);
    }

    .priority-medium {
      background: rgba(255, 179, 0, 0.15);
      color: var(--warning);
    }

    .priority-low {
      background: rgba(46, 125, 50, 0.15);
      color: var(--success);
    }

    .ai-analysis {
      background: rgba(24, 164, 224, 0.08);
      border-radius: 12px;
      padding: 12px;
      margin: 12px 0;
    }

    .ai-label {
      font-size: 11px;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .ai-text {
      font-size: 13px;
      color: var(--primary-dark);
      line-height: 1.6;
      font-weight: 500;
    }

    .recommendation-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    .recommendation-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .recommendation-label {
      font-size: 11px;
      color: var(--muted);
      font-weight: 500;
    }

    .recommendation-value {
      font-size: 14px;
      font-weight: 600;
      color: var(--primary-dark);
    }

    .recommendation-actions {
      display: flex;
      gap: 8px;
      margin-top: 16px;
    }

    .btn-action {
      flex: 1;
      padding: 10px 16px;
      border-radius: 10px;
      border: none;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-primary-action {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: #fff;
      box-shadow: 0 4px 12px rgba(10, 86, 179, 0.3);
    }

    .btn-primary-action:hover {
      box-shadow: 0 6px 18px rgba(10, 86, 179, 0.4);
      transform: translateY(-2px);
    }

    .btn-secondary-action {
      background: #f0f4ff;
      color: var(--primary-dark);
      border: 1px solid rgba(10, 86, 179, 0.2);
    }

    .btn-secondary-action:hover {
      background: #e0ebff;
      border-color: var(--primary);
    }

    @media (max-width: 1200px) {
      .dashboard-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      }
    }

    @media (max-width: 768px) {
      main {
        padding: 16px;
      }

      .dashboard-grid {
        grid-template-columns: 1fr;
      }

      .full-width-card {
        grid-column: 1;
      }
    }
  </style>
</head>
<body>
<div class="mobile-header">
  <span class="mobile-menu-btn" onclick="openMenu()">â˜°</span>
  <span>Smart Bed System</span>
</div>

<div id="mobileMenu" class="mobile-menu">
  <div class="mobile-menu-close" onclick="closeMenu()">Ã—</div>
  <a href="main_dashboard.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <a href="smart_beds.html">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£Ø³Ø±Ø©</a>
  <a href="control_panel.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
  <a href="network_transfer.html">Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª</a>
  <a href="transfer_requests.html">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>
</div>

<div class="app-shell">
  <header>
    <div class="header-left">
      <div class="logo-circle" aria-hidden="true"></div>
      <div class="header-title">
        <div class="header-title-main">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Head Nurse Dashboard</div>
        <div class="header-title-sub">Control Panel - Resource Management & AI Transfer Recommendations</div>
      </div>
    </div>
    <div class="header-actions">
      <a href="main_dashboard.html" class="btn-nav">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="smart_beds.html" class="btn-nav">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£Ø³Ø±Ø©</a>
      <a href="network_transfer.html" class="btn-nav">Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª</a>
      <a href="transfer_requests.html" class="btn-nav">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>
    </div>
  </header>

  <main>
    <div class="dashboard-grid">
      <!-- ğŸ”µ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø© -->
      <div class="card full-width-card">
        <div class="card-header">
          <div>
            <div class="card-title">
              <span class="card-icon">ğŸ¥</span>
              Ù…Ù„Ø®Øµ Ø³Ø¹Ø© Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª ÙÙŠ Ø§Ù„ØªØ¬Ù…Ø¹
            </div>
            <div class="card-subtitle">
              Ø§Ø®ØªØ± Ù…Ø³ØªØ´ÙÙ‰ Ù„Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ¶/Ø§Ù„Ù…Ø±Ø¶Ù‰ØŒ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ù†Ù‚Ù„.
            </div>
          </div>
        </div>
        <div id="hospitalsGrid" class="hospital-grid">
          <!-- ØªÙØ¨Ù†Ù‰ Ù…Ù† JavaScript -->
        </div>
      </div>

      <!-- Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ†/Ø§Ù„Ù…Ø±Ø¶Ù‰ -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <span class="card-icon">ğŸ‘¥</span>
            Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ† / Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ø­Ø¯Ø¯
          </div>
        </div>
        <div class="ratio-display">
          <div class="ratio-card">
            <div class="ratio-header">
              <div class="ratio-label" id="ratioHospitalName">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
              <span class="ratio-status" id="ratioStatusBadge">â€”</span>
            </div>
            <div class="ratio-value" id="currentRatioValue">â€”</div>
            <div class="ratio-details">
              <div class="detail-item">
                <span class="detail-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ†</span>
                <span class="detail-value" id="currentNurses">â€”</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±Ø¶Ù‰</span>
                <span class="detail-value" id="currentPatients">â€”</span>
              </div>
            </div>
          </div>
          <div class="ratio-card">
            <div class="ratio-header">
              <div class="ratio-label">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© (Ideal)</div>
              <span class="ratio-status good">Ù…Ø³ØªÙ‡Ø¯Ù</span>
            </div>
            <div class="ratio-value" id="idealRatioValue">1 : 5</div>
            <div class="ratio-details">
              <div class="detail-item">
                <span class="detail-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</span>
                <span class="detail-value" id="requiredNurses">â€”</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Ù†Ù‚Øµ ÙÙŠ Ø§Ù„ØªØºØ·ÙŠØ©</span>
                <span class="detail-value" id="nurseGap">â€”</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªÙˆÙØ±Ø© -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <span class="card-icon">âš™ï¸</span>
            Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ø­Ø¯Ø¯
          </div>
        </div>
        <div class="equipment-grid">
          <div class="equipment-item">
            <div class="equipment-name">Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ</div>
            <div class="equipment-status">
              <span class="equipment-count">12/15</span>
              <span class="equipment-available">3 Ù…ØªØ§Ø­</span>
            </div>
          </div>
          <div class="equipment-item">
            <div class="equipment-name">Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù‚Ù„Ø¨</div>
            <div class="equipment-status">
              <span class="equipment-count">28/30</span>
              <span class="equipment-available">2 Ù…ØªØ§Ø­</span>
            </div>
          </div>
          <div class="equipment-item">
            <div class="equipment-name">Ù…Ø¶Ø®Ø§Øª Ø§Ù„ØªØ³Ø±ÙŠØ¨</div>
            <div class="equipment-status">
              <span class="equipment-count">45/50</span>
              <span class="equipment-available">5 Ù…ØªØ§Ø­</span>
            </div>
          </div>
          <div class="equipment-item">
            <div class="equipment-name">Ø£Ø¬Ù‡Ø²Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø¶ØºØ·</div>
            <div class="equipment-status">
              <span class="equipment-count">38/40</span>
              <span class="equipment-available">2 Ù…ØªØ§Ø­</span>
            </div>
          </div>
          <div class="equipment-item">
            <div class="equipment-name">Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†</div>
            <div class="equipment-status">
              <span class="equipment-count">22/25</span>
              <span class="equipment-available">3 Ù…ØªØ§Ø­</span>
            </div>
          </div>
          <div class="equipment-item">
            <div class="equipment-name">Ø£Ø¬Ù‡Ø²Ø© ØºØ³ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù‰</div>
            <div class="equipment-status">
              <span class="equipment-count">8/10</span>
              <span class="equipment-available">2 Ù…ØªØ§Ø­</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¯Ø¹Ù…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
      <div class="card full-width-card">
        <div class="card-header">
          <div class="card-title">
            <span class="card-icon">ğŸ¤–</span>
            Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¯Ø¹Ù…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
          </div>
        </div>
        <div class="ai-recommendations" id="aiRecommendations">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ù…Ù† JavaScript -->
        </div>
      </div>
    </div>
  </main>
</div>

<script>
  // ğŸš‘ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©
  const hospitals = [
    {
      id: 'KAH',
      name: 'Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²',
      code: 'KAH',
      totalBeds: 240,
      occupiedBeds: 210,
      criticalPatients: 18,
      nurses: 45,
      patients: 293,
      transferStatus: 'limited',
      transferStatusText: 'Ù‚Ø¨ÙˆÙ„ Ù…Ø­Ø¯ÙˆØ¯',
      travelTime: 'â€” (Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ)'
    },
    {
      id: 'NOOR',
      name: 'Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù†ÙˆØ± Ø§Ù„ØªØ®ØµØµÙŠ',
      code: 'NOOR',
      totalBeds: 260,
      occupiedBeds: 190,
      criticalPatients: 12,
      nurses: 52,
      patients: 240,
      transferStatus: 'open',
      transferStatusText: 'Ù…ØªØ§Ø­ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ù†Ù‚Ù„',
      travelTime: '45 Ø¯Ù‚ÙŠÙ‚Ø©'
    },
    {
      id: 'KAMC',
      name: 'Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ©',
      code: 'KAMC',
      totalBeds: 300,
      occupiedBeds: 220,
      criticalPatients: 25,
      nurses: 70,
      patients: 280,
      transferStatus: 'open',
      transferStatusText: 'Ù…ØªØ§Ø­ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ù†Ù‚Ù„ (ØªØ®ØµØµÙŠ)',
      travelTime: '20 Ø¯Ù‚ÙŠÙ‚Ø©'
    }
  ];

  let selectedHospitalId = 'KAH';

  // Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ù†Ù‚Ù„ (ÙƒÙ…Ø§ Ù‡ÙŠ Ø¹Ù†Ø¯Ùƒ)
  const transferRecommendations = [
    {
      patientName: 'Ø³Ø¹Ø§Ø¯ Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
      patientId: 'MRN-2024-001234',
      currentWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 4B - Ø¨Ø§Ø·Ù†ÙŠØ©',
      priority: 'high',
      aiAnalysis: 'Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø³ØªÙ‚Ø±Ø© Ù†Ø³Ø¨ÙŠØ§Ù‹ Ù„ÙƒÙ† ØªØ­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ø³ØªÙ…Ø±Ø©. Ø§Ù„Ø¬Ù†Ø§Ø­ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø¶ØºØ· Ø¹Ø§Ù„ÙŠ (Ù†Ø³Ø¨Ø© Ù…Ù…Ø±Ø¶/Ù…Ø±ÙŠØ¶ 1:7). ÙŠÙÙ†ØµØ­ Ø¨Ø§Ù„Ù†Ù‚Ù„ Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ø­Ù…Ù„.',
      recommendedHospital: 'Ù…Ø³ØªØ´ÙÙ‰ Ø­Ø±Ø§Ø¡',
      recommendedWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 3D - Ù†Ø³Ø§Ø¡',
      availableBeds: 8,
      estimatedTransferTime: '30 Ø¯Ù‚ÙŠÙ‚Ø©',
      reason: 'ØªÙˆÙØ± Ø£Ø¬Ù‡Ø²Ø© Ù…ØªØ®ØµØµØ© + Ù†Ø³Ø¨Ø© Ù…Ù…Ø±Ø¶/Ù…Ø±ÙŠØ¶ Ø£ÙØ¶Ù„ (1:5)'
    },
    {
      patientName: 'ÙˆÙØ§Ø¡ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ',
      patientId: 'MRN-2024-001567',
      currentWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 3A - Ø¬Ø±Ø§Ø­Ø©',
      priority: 'medium',
      aiAnalysis: 'Ø§Ù„Ù…Ø±ÙŠØ¶Ø© ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ø§ÙÙŠ ÙˆØªØ­ØªØ§Ø¬ Ø±Ø¹Ø§ÙŠØ© Ø£Ù‚Ù„ ÙƒØ«Ø§ÙØ©. ÙŠÙ…ÙƒÙ† Ù†Ù‚Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø¬Ù†Ø§Ø­ Ø£Ù‚Ù„ Ø¶ØºØ·Ø§Ù‹ Ù„ØªØ­Ø±ÙŠØ± Ø³Ø±ÙŠØ± Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©.',
      recommendedHospital: 'Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù†ÙˆØ± Ø§Ù„ØªØ®ØµØµÙŠ',
      recommendedWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 2A - Ø¹ÙŠÙˆÙ†',
      availableBeds: 5,
      estimatedTransferTime: '45 Ø¯Ù‚ÙŠÙ‚Ø©',
      reason: 'Ù‚Ø±Ø¨ Ù…Ù† Ù…ÙƒØ§Ù† Ø§Ù„Ø³ÙƒÙ† + ØªÙˆÙØ± Ø³Ø±ÙŠØ± ÙÙŠ Ø¬Ù†Ø§Ø­ Ù…Ù†Ø§Ø³Ø¨'
    },
    {
      patientName: 'Ø­ØµØ© Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ',
      patientId: 'MRN-2024-001890',
      currentWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 4B - Ø¨Ø§Ø·Ù†ÙŠØ©',
      priority: 'high',
      aiAnalysis: 'Ø­Ø§Ù„Ø© Ø­Ø±Ø¬Ø© ØªØ­ØªØ§Ø¬ Ø£Ø¬Ù‡Ø²Ø© Ù…ØªØ®ØµØµØ© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ø¬Ù†Ø§Ø­ Ø§Ù„Ø­Ø§Ù„ÙŠ. Ø§Ù„Ù†Ù‚Ù„ Ø¶Ø±ÙˆØ±ÙŠ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ø«Ù„Ù‰.',
      recommendedHospital: 'Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ©',
      recommendedWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 5C - Ù‚Ù„Ø¨',
      availableBeds: 3,
      estimatedTransferTime: '20 Ø¯Ù‚ÙŠÙ‚Ø©',
      reason: 'ØªÙˆÙØ± Ø£Ø¬Ù‡Ø²Ø© Ù…ØªØ®ØµØµØ© Ù„Ù„Ù‚Ù„Ø¨ + ÙØ±ÙŠÙ‚ Ø·Ø¨ÙŠ Ù…ØªØ®ØµØµ'
    },
    {
      patientName: 'Ù…Ø´Ø§Ø¹Ù„ Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ',
      patientId: 'MRN-2024-002134',
      currentWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 2C - Ø¹Ø¸Ø§Ù…',
      priority: 'low',
      aiAnalysis: 'Ø§Ù„Ù…Ø±ÙŠØ¶Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ù…Ø³ØªÙ‚Ø±Ø© ØªÙ…Ø§Ù…Ø§Ù‹ ÙˆØªØ³ØªØ¹Ø¯ Ù„Ù„Ø®Ø±ÙˆØ¬ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø©. ÙŠÙ…ÙƒÙ† Ù†Ù‚Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø¬Ù†Ø§Ø­ Ø£Ù‚Ù„ ØªÙƒÙ„ÙØ© Ø£Ùˆ Ø¥Ø¨Ù‚Ø§Ø¤Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ.',
      recommendedHospital: 'Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© ÙˆØ§Ù„Ø£Ø·ÙØ§Ù„',
      recommendedWard: 'Ø§Ù„Ø¬Ù†Ø§Ø­ 1A - ÙˆÙ„Ø§Ø¯Ø©',
      availableBeds: 7,
      estimatedTransferTime: '60 Ø¯Ù‚ÙŠÙ‚Ø©',
      reason: 'ØªØ­Ø±ÙŠØ± Ø³Ø±ÙŠØ± ÙÙŠ Ø¬Ù†Ø§Ø­ Ø¹Ø¸Ø§Ù… Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©'
    }
  ];

  const hospitalsGrid = document.getElementById('hospitalsGrid');
  const aiRecommendations = document.getElementById('aiRecommendations');

  const ratioHospitalName = document.getElementById('ratioHospitalName');
  const ratioStatusBadge = document.getElementById('ratioStatusBadge');
  const currentRatioValue = document.getElementById('currentRatioValue');
  const currentNurses = document.getElementById('currentNurses');
  const currentPatients = document.getElementById('currentPatients');
  const idealRatioValue = document.getElementById('idealRatioValue');
  const requiredNurses = document.getElementById('requiredNurses');
  const nurseGap = document.getElementById('nurseGap');

  function getLoadClass(loadPercent) {
    if (loadPercent >= 85) return 'critical';
    if (loadPercent >= 70) return 'warning';
    return 'good';
  }

  function getLoadText(loadPercent) {
    if (loadPercent >= 90) return 'Ø­Ø±Ø¬ Ø¬Ø¯Ø§Ù‹';
    if (loadPercent >= 75) return 'Ù…Ø±ØªÙØ¹';
    if (loadPercent >= 50) return 'Ù…ØªÙˆØ³Ø·';
    return 'Ù…Ù†Ø®ÙØ¶';
  }

  function getTransferTagClass(status) {
    switch (status) {
      case 'open': return 'tag-open';
      case 'limited': return 'tag-limited';
      case 'closed': return 'tag-closed';
      default: return '';
    }
  }

  function formatRatio(nurses, patients) {
    if (!nurses || !patients) return 'â€”';
    const r = (patients / nurses).toFixed(1);
    return `1 : ${r}`;
  }

  function updateRatioFromHospital(h) {
    const ratio = h.nurses && h.patients ? (h.patients / h.nurses) : null;
    const ideal = 5; // 1:5

    ratioHospitalName.textContent = `Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© â€“ ${h.name}`;
    currentRatioValue.textContent = ratio ? `1 : ${ratio.toFixed(1)}` : 'â€”';
    currentNurses.textContent = h.nurses;
    currentPatients.textContent = h.patients;

    idealRatioValue.textContent = `1 : ${ideal}`;

    const needed = h.patients ? Math.ceil(h.patients / ideal) : 0;
    requiredNurses.textContent = needed;
    const gap = needed - h.nurses;
    nurseGap.textContent = gap > 0 ? gap : 0;

    // Ù„ÙˆÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø³Ø¨Ø©
    ratioStatusBadge.classList.remove('good', 'warning', 'critical');

    if (!ratio) {
      ratioStatusBadge.textContent = 'â€”';
    } else if (ratio <= ideal) {
      ratioStatusBadge.textContent = 'Ù…Ù…ØªØ§Ø²';
      ratioStatusBadge.classList.add('good');
    } else if (ratio <= ideal + 2) {
      ratioStatusBadge.textContent = 'ØªØ­Ø°ÙŠØ±';
      ratioStatusBadge.classList.add('warning');
    } else {
      ratioStatusBadge.textContent = 'Ø­Ø±Ø¬';
      ratioStatusBadge.classList.add('critical');
    }
  }

  function buildHospitals() {
    hospitalsGrid.innerHTML = '';
    hospitals.forEach(h => {
      const freeBeds = h.totalBeds - h.occupiedBeds;
      const loadPercent = Math.round((h.occupiedBeds / h.totalBeds) * 100);
      const loadClass = getLoadClass(loadPercent);
      const loadText = getLoadText(loadPercent);
      const ratioText = formatRatio(h.nurses, h.patients);

      const card = document.createElement('div');
      card.className = 'hospital-card' + (h.id === selectedHospitalId ? ' selected' : '');
      card.innerHTML = `
        <div class="hospital-header">
          <div>
            <div class="hospital-name">${h.name}</div>
            <div class="hospital-meta">${h.code} â€¢ ÙˆÙ‚Øª Ø§Ù„Ù†Ù‚Ù„: ${h.travelTime}</div>
          </div>
          <span class="tag ${getTransferTagClass(h.transferStatus)}">${h.transferStatusText}</span>
        </div>

        <div class="hospital-stats-row">
          <div>
            <div class="hospital-stat-label">Ø§Ù„Ø£Ø³Ø±Ù‘Ø© Ø§Ù„Ù…Ø´ØºÙˆÙ„Ø© / Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
            <div class="hospital-stat-value">${h.occupiedBeds} / ${h.totalBeds}</div>
          </div>
          <div>
            <div class="hospital-stat-label">Ø£Ø³ÙØ±Ù‘Ø© Ù…ØªØ§Ø­Ø©</div>
            <div class="hospital-stat-value" style="color: var(--success);">${freeBeds}</div>
          </div>
        </div>

        <div class="hospital-stats-row">
          <div>
            <div class="hospital-stat-label">Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©</div>
            <div class="hospital-stat-value" style="color: var(--danger);">${h.criticalPatients}</div>
          </div>
          <div>
            <div class="hospital-stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ†/Ø§Ù„Ù…Ø±Ø¶Ù‰</div>
            <div class="hospital-stat-value">${ratioText}</div>
          </div>
        </div>

        <div class="capacity-bar">
          <div class="capacity-fill ${loadClass}" style="width: ${loadPercent}%;"></div>
        </div>

        <div class="hospital-footer">
          <span>Ø¶ØºØ· Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰: <span class="hospital-load-text">${loadText} (${loadPercent}%)</span></span>
          <span>Ù„Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹ ÙÙŠ Ø§Ù„Ù†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª</span>
        </div>
      `;

      card.addEventListener('click', () => {
        selectedHospitalId = h.id;
        // ØªØ­Ø¯ÙŠØ« Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒØ±ÙˆØª
        document.querySelectorAll('.hospital-card').forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø©
        updateRatioFromHospital(h);
      });

      hospitalsGrid.appendChild(card);
    });
  }

  function getPriorityClass(priority) {
    switch (priority) {
      case 'high': return 'priority-high';
      case 'medium': return 'priority-medium';
      case 'low': return 'priority-low';
      default: return '';
    }
  }

  function getPriorityText(priority) {
    switch (priority) {
      case 'high': return 'Ø¹Ø§Ù„ÙŠØ©';
      case 'medium': return 'Ù…ØªÙˆØ³Ø·Ø©';
      case 'low': return 'Ù…Ù†Ø®ÙØ¶Ø©';
      default: return '';
    }
  }

  function buildRecommendations() {
    aiRecommendations.innerHTML = '';

    transferRecommendations.forEach((rec, index) => {
      const card = document.createElement('div');
      card.className = 'recommendation-card';
      card.style.animationDelay = `${index * 0.1}s`;

      card.innerHTML = `
        <div class="recommendation-header">
          <div class="patient-info">
            <div class="patient-name">${rec.patientName}</div>
            <div class="patient-id">${rec.patientId} | ${rec.currentWard}</div>
          </div>
          <span class="priority-badge ${getPriorityClass(rec.priority)}">
            Ø£ÙˆÙ„ÙˆÙŠØ© ${getPriorityText(rec.priority)}
          </span>
        </div>

        <div class="ai-analysis">
          <div class="ai-label">
             ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
          </div>
          <div class="ai-text">
            ${rec.aiAnalysis}
          </div>
        </div>

        <div class="recommendation-details">
          <div class="recommendation-item">
            <span class="recommendation-label">Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù‚ØªØ±Ø­</span>
            <span class="recommendation-value">${rec.recommendedHospital}</span>
          </div>
          <div class="recommendation-item">
            <span class="recommendation-label">Ø§Ù„Ø¬Ù†Ø§Ø­ Ø§Ù„Ù…Ù‚ØªØ±Ø­</span>
            <span class="recommendation-value">${rec.recommendedWard}</span>
          </div>
          <div class="recommendation-item">
            <span class="recommendation-label">Ø§Ù„Ø£Ø³Ø±Ø© Ø§Ù„Ù…ØªØ§Ø­Ø©</span>
            <span class="recommendation-value" style="color: var(--success);">${rec.availableBeds} Ø³Ø±ÙŠØ±</span>
          </div>
          <div class="recommendation-item">
            <span class="recommendation-label">ÙˆÙ‚Øª Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
            <span class="recommendation-value">${rec.estimatedTransferTime}</span>
          </div>
        </div>

        <div style="margin-top: 12px; padding: 10px; background: rgba(10, 86, 179, 0.05); border-radius: 8px;">
          <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">ğŸ’¡ Ø³Ø¨Ø¨ Ø§Ù„ØªÙˆØµÙŠØ©:</div>
          <div style="font-size: 12px; color: var(--primary-dark); font-weight: 500;">${rec.reason}</div>
        </div>

        <div class="recommendation-actions">
          <button class="btn-action btn-primary-action" onclick="initiateTransfer('${rec.patientId}', '${rec.recommendedHospital}')">
            Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù†Ù‚Ù„
          </button>
          <button class="btn-action btn-secondary-action" onclick="viewDetails('${rec.patientId}')">
            Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
          </button>
        </div>
      `;

      aiRecommendations.appendChild(card);
    });
  }

  function initiateTransfer(patientId, hospital) {
    if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ù†Ù‚Ù„ Ø§Ù„Ù…Ø±ÙŠØ¶ ${patientId} Ø¥Ù„Ù‰ ${hospital}ØŸ`)) {
      alert(` ØªÙ… Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù†Ù‚Ù„ Ù„Ù„Ù…Ø±ÙŠØ¶ ${patientId}\nØ³ÙŠØªÙ… Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª.`);
    }
  }

  function viewDetails(patientId) {
    alert(`Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ø±ÙŠØ¶: ${patientId}\n(Ø³ÙŠØªÙ… ÙØªØ­ ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©)`);
  }

  function init() {
    buildHospitals();
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²)
    const defaultHospital = hospitals.find(h => h.id === selectedHospitalId) || hospitals[0];
    updateRatioFromHospital(defaultHospital);
    buildRecommendations();
  }

  document.addEventListener('DOMContentLoaded', init);
</script>

<script>
  function openMenu() {
    const menu = document.getElementById('mobileMenu');
    if (menu) {
      menu.style.display = 'block';
    }
  }

  function closeMenu() {
    const menu = document.getElementById('mobileMenu');
    if (menu) {
      menu.style.display = 'none';
    }
  }
</script>
</body>
</html>
